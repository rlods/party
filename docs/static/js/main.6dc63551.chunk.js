(this["webpackJsonpparty-app"]=this["webpackJsonpparty-app"]||[]).push([[0],{40:function(e,t,n){e.exports=n(67)},51:function(e,t,n){},52:function(e,t,n){},57:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(15),s=n(5),c=n(16),i=n(13),l=(n(49),n(12)),u=n(37),m=n(2);const p={fetching:!1,error:null,containers:{}},d=[],h={stack:[]},f={fetching:!1,error:null,room_id:"",rooms:{}},v={fetching:!1,error:null,tracks:{}},b={fetching:!1,error:null,user:(()=>{const e={id:"",secret:""},t=localStorage.getItem("U");if(t)try{const n=JSON.parse(atob(t));"string"===typeof n.i&&"string"===typeof n.s&&(e.id=n.i,e.secret=n.s,console.log("LOADED: ",e))}catch(n){}return e})(),users:{}},E=Object(l.combineReducers)({containers:(e=p,t)=>{switch(t.type){case"containers/FETCHING":return Object(m.a)({},e,{fetching:!0,error:null});case"containers/FETCHED":return Object(m.a)({},e,{fetching:!1,error:null});case"containers/ERROR":return Object(m.a)({},e,{fetching:!1,error:t.payload});case"containers/SET_CONTAINERS":return Object(m.a)({},e,{containers:Object(m.a)({},e.containers,{},t.payload)});case"containers/RESET":return p;default:return e}},messages:(e=d,t)=>{switch(t.type){case"message/ADD":return[t.payload,...e];case"message/REMOVE":return e.filter(e=>e.id!==t.payload);default:return e}},modals:(e=h,t)=>{switch(t.type){case"modals/OPEN":return Object(m.a)({},e,{stack:[t.payload]});case"modals/CLOSE":return Object(m.a)({},e,{stack:[]});case"modals/PUSH":return Object(m.a)({},e,{stack:[...e.stack,t.payload]});case"modals/POP":const n=[...e.stack];return n.pop(),Object(m.a)({},e,{stack:n});default:return e}},rooms:(e=f,t)=>{switch(t.type){case"rooms/FETCHING":return Object(m.a)({},e,{fetching:!0,error:null});case"rooms/FETCHED":return Object(m.a)({},e,{fetching:!1,error:null});case"rooms/ERROR":return Object(m.a)({},e,{fetching:!1,error:t.payload});case"rooms/SET_ROOM":return Object(m.a)({},e,{room_id:t.payload});case"rooms/SET_ROOMS":return Object(m.a)({},e,{rooms:Object(m.a)({},e.rooms,{},t.payload)});case"rooms/RESET":return f;default:return e}},tracks:(e=v,t)=>{switch(t.type){case"tracks/FETCHING":return Object(m.a)({},e,{fetching:!0,error:null});case"tracks/FETCHED":return Object(m.a)({},e,{fetching:!1,error:null});case"tracks/ERROR":return Object(m.a)({},e,{fetching:!1,error:t.payload});case"tracks/SET_TRACKS":return Object(m.a)({},e,{tracks:Object(m.a)({},e.tracks,{},t.payload)});case"tracks/RESET":return v;default:return e}},users:(e=b,t)=>{switch(t.type){case"users/FETCHING":return Object(m.a)({},e,{fetching:!0,error:null});case"users/FETCHED":return Object(m.a)({},e,{fetching:!1,error:null});case"users/ERROR":return Object(m.a)({},e,{fetching:!1,error:t.payload});case"users/SET_USER":return(({id:e,secret:t})=>{localStorage.setItem("U",btoa(JSON.stringify({i:e,s:t})))})(t.payload),Object(m.a)({},e,{user:Object(m.a)({},t.payload)});case"users/SET_USERS":return Object(m.a)({},e,{users:Object(m.a)({},e.users,{},t.payload)});case"users/RESET":return b;default:return e}}});var O=n(1),C=n.n(O),g=n(4);function y(e,t){return void 0===t?{type:e}:{type:e,payload:t}}const k=e=>y("modals/OPEN",e),j=()=>y("modals/POP");var R=n(10),x=n.n(R),S=n(38),w=n.n(S);n(51);class _ extends r.Component{constructor(...e){super(...e),this.render=()=>{const e=this.props,t=e.className,n=e.icon,r=e.title;return a.a.createElement(w.a,{className:x()("Icon",t),name:n,title:r})}}}var M=_;n(52);class N extends r.Component{constructor(...e){super(...e),this.render=()=>{const e=this.props,t=e.className,n=e.icon,r=e.kind,o=void 0===r?"default":r,s=e.onClick,c=e.title,i=e.type,l=void 0===i?"button":i;return a.a.createElement("button",{type:l,"aria-label":c,className:x()("IconButton",t,o,{clickable:!!s||"submit"===l}),onClick:s,title:c},a.a.createElement(M,{icon:n}))}}}const T=({onClick:e})=>a.a.createElement(N,{onClick:e,title:"Cancel",kind:"default",icon:"ban"});var I=N;class D extends r.Component{constructor(...e){super(...e),this.render=()=>{const e=this.props.user;return a.a.createElement("div",{className:"Menu"},a.a.createElement("div",null,a.a.createElement(c.b,{to:"/"},"Home")),e?a.a.createElement(r.Fragment,null,a.a.createElement("div",null,a.a.createElement(I,{title:"Create Room",icon:"plus",onClick:this.props.createRoom})),a.a.createElement("div",null,a.a.createElement(I,{title:"Join Room",icon:"folder-open",onClick:this.props.enterRoom})),a.a.createElement("div",null,a.a.createElement(I,{title:"Disconnect",icon:"sign-out",onClick:this.props.disconnectUser}),e.name)):a.a.createElement(r.Fragment,null,a.a.createElement("div",null,a.a.createElement(I,{title:"Connect",icon:"sign-in",onClick:this.props.connectUser}))))}}}var F=D,U=n(14);n(54);const P={databaseURL:"https://test-rl-7ffe8.firebaseio.com"};console.log(P);var B=P;const H=U.initializeApp(B),A=U.database(H),J=A.ref("members"),q=A.ref("rooms"),L=A.ref("users"),V=(e,t)=>{const n=q.child(e),r=n.child("info"),a=J.child(e);let o={container_id:"",container_type:"",name:"dummy",timestamp:0,track_id:0,track_position:0,type:"dj"};const s=function(){var e=Object(g.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(e=>{const t=e.val();t&&(o=t)}),e.next=3,l(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(g.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((e,t)=>{r.once("value",n=>{const r=n.val();r?(o=r,e(o)):t(new Error("Room is invalid"))})}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=e=>{r.on("value",e)},l=function(){var e=Object(g.a)(C.a.mark((function e({container_id:r,container_type:a,name:s,track_id:c,track_position:i,type:l}){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0!==r&&(o.container_id=r),void 0!==a&&(o.container_type=a),void 0!==s&&(o.name=s),void 0!==c&&(o.track_id=c),void 0!==i&&(o.track_position=i),void 0!==l&&(o.type=l),e.next=8,n.set({info:Object(m.a)({},o,{timestamp:U.database.ServerValue.TIMESTAMP}),secret:t});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{getInfo:()=>o,id:e,init:s,wait:c,subscribeInfo:i,subscribeMembers:(e,t)=>{a.on("child_added",e),a.on("child_removed",t)},unsubscribeInfo:e=>{r.off("value",e)},unsubscribeMembers:(e,t)=>{a.off("child_added",e),a.off("child_removed",t)},update:l}},G=(e,t)=>{const n=L.child(e),r=n.child("info");let a=null,o={name:"dummy",online:!1,room_id:"",status:"",timestamp:0};const s=function(){var e=Object(g.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(e=>{const t=e.val();t&&(o=t)}),e.next=3,l(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(g.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((e,t)=>{r.once("value",n=>{const r=n.val();r?(o=r,e(o)):t(new Error("User is invalid"))})}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=e=>{r.on("value",e)},l=function(){var e=Object(g.a)(C.a.mark((function e({name:r,room_id:a}){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0!==r&&(o.name=r),void 0!==a&&(o.room_id=a),e.next=4,n.set({info:Object(m.a)({},o,{online:!0,status:"online",timestamp:U.database.ServerValue.TIMESTAMP}),secret:t});case 4:u();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=()=>{n.onDisconnect().cancel(),n.onDisconnect().set({info:Object(m.a)({},o,{online:!1,room_id:"",status:"disconnected",timestamp:U.database.ServerValue.TIMESTAMP}),secret:t})};return{id:e,enter:function(){var t=Object(g.a)(C.a.mark((function t(n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=4;break}return t.next=3,a.remove();case 3:a=null;case 4:return t.next=6,l({room_id:n.id});case 6:return a=J.child(n.id).child(e),a.onDisconnect().remove(),t.next=10,a.set({timestamp:U.database.ServerValue.TIMESTAMP});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),exit:function(){var e=Object(g.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=4;break}return e.next=3,a.remove();case 3:a=null;case 4:return e.next=6,l({room_id:""});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),init:s,wait:c,subscribeInfo:i,unsubscribeInfo:e=>{r.off("value",e)},update:l,getInfo:()=>o}};var W=n(68);let K=0;const z=(e,t,n=5e3)=>r=>{const a=K++;r(y("message/ADD",{id:a,text:t,type:e})),setTimeout(()=>r((e=>y("message/REMOVE",e))(a)),n)},Q=(e,t)=>n=>{var r;n(z("error",t?"".concat(e,": ").concat((r=t).response&&r.response.data&&r.response.data.message?r.response.data.message:r.message):e,3e3))},X=(e,t)=>y("users/SET_USER",{id:e,secret:t}),Y=e=>y("users/SET_USERS",e),Z=(e,t)=>function(){var n=Object(g.a)(C.a.mark((function n(r){var a;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,console.log("Creating user..."),a=Object(W.a)(),n.next=5,G(a,t).init({name:e});case 5:r(te(a,t)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),r(Q("Cannot create user",n.t0));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}();let $=null,ee=null;const te=(e,t)=>function(){var n=Object(g.a)(C.a.mark((function n(r){var a;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(ne()),n.prev=1,console.log("Connection user...",{id:e,secret:t}),a=G(e),n.t0=r,n.t1=Y,n.next=8,a.wait();case 8:n.t2=n.sent,n.t3={[e]:n.t2},n.t4=(0,n.t1)(n.t3),(0,n.t0)(n.t4),r(X(e,t)),ee=t=>{r(Y({[e]:t.val()}))},$=a,$.subscribeInfo(ee),n.next=21;break;case 18:n.prev=18,n.t5=n.catch(1),r(Q("Cannot connect user",n.t5));case 21:case"end":return n.stop()}}),n,null,[[1,18]])})));return function(e){return n.apply(this,arguments)}}(),ne=()=>function(){var e=Object(g.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$&&(console.log("Disconnecting user..."),$.unsubscribeInfo(ee),$=null,ee=null,t(X("","")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=()=>function(){var e=Object(g.a)(C.a.mark((function e(t,n){var r,a,o,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),a=r.users.user,o=a.id,s=a.secret,o&&s)try{console.log("Loading user..."),t(te(o,s))}catch(c){t(Q("Cannot load user",c))}case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ae=(e,t)=>{const n=e.users.users[t];return n||null};var oe=Object(s.b)(e=>({user:ae(e,e.users.user.id)}),e=>({createRoom:()=>e(k({type:"CreateRoom",props:null})),enterRoom:()=>e(k({type:"JoinRoom",props:null})),connectUser:()=>e(k({type:"ConnectUser",props:null})),disconnectUser:()=>e(ne())}))(F);class se extends r.Component{constructor(...e){super(...e),this.componentDidMount=()=>{this.props.onEnter()},this.componentWillUnmount=()=>{this.props.onExit()},this.render=()=>{return a.a.createElement("div",{className:"Room"},a.a.createElement(oe,null),a.a.createElement("div",null,this.props.match.params.room_id),a.a.createElement("div",null,this.props.room?this.props.room.name:"?"),a.a.createElement("div",null,(e=this.props.match.params.room_id,"".concat(window.location.origin,"/#/room/").concat(e))));var e}}}var ce=Object(i.g)(se),ie=n(7),le=Object(ie.b)();const ue=e=>y("rooms/SET_ROOM",e),me=e=>y("rooms/SET_ROOMS",e),pe=(e,t)=>function(){var n=Object(g.a)(C.a.mark((function n(r){var a;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,console.log("Creating room..."),a=Object(W.a)(),n.next=5,V(a,t).init({name:e});case 5:r(fe(a)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),r(Q("Cannot create room",n.t0));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}();let de=null,he=null;const fe=e=>function(){var t=Object(g.a)(C.a.mark((function t(n){var r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(de&&de.id===e){t.next=23;break}return n(ve()),t.prev=2,console.log("Entering room...",{id:e}),r=V(e),t.t0=n,t.t1=me,t.next=9,r.wait();case 9:t.t2=t.sent,t.t3={[e]:t.t2},t.t4=(0,t.t1)(t.t3),(0,t.t0)(t.t4),n(ue(e)),he=t=>{n(me({[e]:t.val()}))},de=r,de.subscribeInfo(he),le.push("/room/".concat(e)),t.next=23;break;case 20:t.prev=20,t.t5=t.catch(2),n(Q("Cannot join room",t.t5));case 23:case"end":return t.stop()}}),t,null,[[2,20]])})));return function(e){return t.apply(this,arguments)}}(),ve=()=>function(){var e=Object(g.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:de&&(console.log("Exiting room..."),de.unsubscribeInfo(he),de=null,he=null,t(ue("")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=(e,t)=>{const n=e.rooms.rooms[t];return n||null};var Ee=Object(s.b)((e,t)=>({room:be(e,t.match.params.room_id)}),(e,t)=>({onEnter:()=>e(fe(t.match.params.room_id)),onExit:()=>e(ve())}))(ce);class Oe extends r.Component{constructor(...e){super(...e),this.componentDidMount=Object(g.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),this.render=()=>a.a.createElement("div",{className:"Splash"},a.a.createElement(oe,null))}}var Ce=Oe;var ge=Object(s.b)(e=>({}),e=>({}))(Ce),ye=n(18);class ke extends r.Component{constructor(...e){super(...e),this.render=()=>{const e=this.props,t=e.children,n=e.className,r=e.title,o=e.renderFoot,s=e.onClose,c=e.onPop,i=e.has_prev_modal;return a.a.createElement("form",{className:x()("Modal",n),onSubmit:this.onSubmit},a.a.createElement("div",{className:"ModalHead"},a.a.createElement(I,{kind:"special",className:x()("ModalHeadBack",{hidden:!i}),icon:"angle-left",title:"Back",onClick:c}),a.a.createElement("div",{className:"ModalTitle"},r),a.a.createElement(I,{kind:"special",className:"ModalHeadClose",onClick:s,title:"Cancel",icon:"times"})),a.a.createElement("div",{className:"ModalBody"},t),a.a.createElement("div",{className:"ModalFoot"},o&&o()))},this.onSubmit=e=>{e.preventDefault(),this.props.onSubmit&&this.props.onSubmit()}}}var je=ke;var Re=Object(s.b)(e=>({has_prev_modal:e.modals.stack.length>1}),e=>({onClose:()=>e(j()),onPop:()=>e(j())}))(je);class xe extends r.Component{constructor(...e){super(...e),this.render=()=>{const e=this.props,t=e.children,n=e.className,r=e.renderButtons,o=e.title,s=e.onSubmit;return a.a.createElement(Re,{className:x()("FormModal",n),title:o,renderFoot:r,onSubmit:s},t)}}}var Se=xe;class we extends r.Component{constructor(...e){super(...e),this.nameRef=Object(r.createRef)(),this.state={name:"",secret:Object(W.a)()},this.render=()=>{const e=this.state,t=e.name,n=e.secret;return a.a.createElement(Se,{title:"Create Room",onSubmit:this.onCreate,renderButtons:this.renderButtons},a.a.createElement("div",{className:"ModalField"},a.a.createElement("label",{htmlFor:"modal-name"},"Room Name"),a.a.createElement("input",{id:"modal-name",type:"text",placeholder:"Room Name...",value:t,ref:this.nameRef,onChange:e=>{this.setState({name:e.target.value})}})),a.a.createElement("div",{className:"ModalField"},a.a.createElement("label",{htmlFor:"modal-secret"},"Room Secret"),a.a.createElement("input",{id:"modal-secret",type:"text",placeholder:"Room Secret...",value:n,onChange:e=>{this.setState({secret:e.target.value})}})))},this.renderButtons=()=>a.a.createElement(r.Fragment,null,a.a.createElement(I,{title:"Create",kind:"primary",icon:"plus",type:"submit"}),a.a.createElement(T,{onClick:this.props.onClose})),this.onCreate=()=>{const e=this.props,t=e.onClose,n=e.onCreate,r=e.onError,a=this.state,o=a.name,s=a.secret;0!==o.trim().length?0!==s.trim().length?(n(o,s),t()):r("Room secret is invalid"):r("Room name is invalid")}}componentDidMount(){this.nameRef.current&&this.nameRef.current.focus()}}var _e=we;var Me=Object(s.b)(e=>({}),e=>({onClose:()=>e(j()),onCreate:(t,n)=>e(pe(t,n)),onError:t=>e(Q(t))}))(_e);class Ne extends r.Component{constructor(...e){super(...e),this.nameRef=Object(r.createRef)(),this.state={name:"",secret:Object(W.a)()},this.render=()=>{const e=this.state,t=e.name,n=e.secret;return a.a.createElement(Se,{title:"Create User",onSubmit:this.onCreate,renderButtons:this.renderButtons},a.a.createElement("div",{className:"ModalField"},a.a.createElement("label",{htmlFor:"modal-name"},"User Name"),a.a.createElement("input",{id:"modal-name",type:"text",placeholder:"User Name...",value:t,ref:this.nameRef,onChange:e=>{this.setState({name:e.target.value})}})),a.a.createElement("div",{className:"ModalField"},a.a.createElement("label",{htmlFor:"modal-secret"},"User Secret"),a.a.createElement("input",{id:"modal-secret",type:"text",placeholder:"User Secret...",value:n,onChange:e=>{this.setState({secret:e.target.value})}})))},this.renderButtons=()=>a.a.createElement(r.Fragment,null,a.a.createElement(I,{title:"Create",kind:"primary",icon:"plus",type:"submit"}),a.a.createElement(T,{onClick:this.props.onClose})),this.onCreate=()=>{const e=this.props,t=e.onClose,n=e.onCreate,r=e.onError,a=this.state,o=a.name,s=a.secret;0!==o.trim().length?0!==s.trim().length?(n(o,s),t()):r("User secret is invalid"):r("User name is invalid")}}componentDidMount(){this.nameRef.current&&this.nameRef.current.focus()}}var Te=Ne;var Ie=Object(s.b)(e=>({}),e=>({onClose:()=>e(j()),onCreate:(t,n)=>e(Z(t,n)),onError:t=>e(Q(t))}))(Te);class De extends r.Component{constructor(...e){super(...e),this.idRef=Object(r.createRef)(),this.state={roomId:""},this.render=()=>{const e=this.state.roomId;return a.a.createElement(Se,{title:"Join Room",onSubmit:this.onJoin,renderButtons:this.renderButtons},a.a.createElement("div",{className:"ModalField"},a.a.createElement("label",{htmlFor:"modal-roomId"},"Room ID"),a.a.createElement("input",{id:"modal-roomId",type:"text",placeholder:"Room ID...",value:e,ref:this.idRef,onChange:e=>{this.setState({roomId:e.target.value})}})))},this.renderButtons=()=>a.a.createElement(r.Fragment,null,a.a.createElement(I,{title:"Join",kind:"primary",icon:"sign-in",type:"submit"}),a.a.createElement(T,{onClick:this.props.onClose})),this.onJoin=()=>{const e=this.props,t=e.onClose,n=e.onEnter,r=this.state.roomId;0!==r.trim().length?(n(r),t()):console.log("Room ID is invalid")}}componentDidMount(){this.idRef.current&&this.idRef.current.focus()}}var Fe=De;var Ue=Object(s.b)(e=>({}),e=>({onClose:()=>e(j()),onEnter:t=>e(fe(t))}))(Fe);n(57);class Pe extends r.Component{constructor(...e){super(...e),this.state={curr_prereq:void 0,prev_prereq:void 0},this.componentDidMount=()=>{document.addEventListener("keydown",this.onKeyDown)},this.componentWillUnmount=()=>{document.removeEventListener("keydown",this.onKeyDown)},this.componentDidUpdate=e=>{const t=e.prereq,n=this.props.prereq;t!==n&&this.setState({curr_prereq:void 0,prev_prereq:t},()=>{n&&setTimeout(()=>{this.setState({curr_prereq:n})},300)})},this.render=()=>{const e=this.state,t=e.curr_prereq,n=e.prev_prereq,r=t||n;let o=null;return r&&(o=(e=>{switch(e.type){case"CreateRoom":return a.a.createElement(Me,null);case"JoinRoom":return a.a.createElement(Ue,null);case"ConnectUser":return a.a.createElement(Ie,null)}})(r)),a.a.createElement(ye.CSSTransition,{in:!!t,timeout:300,unmountOnExit:!0},a.a.createElement("div",{className:"ModalOverlay",onClick:this.onClickOverlay},o&&a.a.createElement("div",{className:"ModalWrapper",role:"dialog",onClick:this.onClickWrapper},o)))},this.onClickOverlay=e=>{e.stopPropagation(),this.props.onCloseModal()},this.onClickWrapper=e=>{e.stopPropagation()},this.onKeyDown=e=>{27===e.keyCode&&this.props.onCloseModal()}}}var Be=Pe;var He=Object(s.b)(e=>({prereq:e.modals.stack.length>0?e.modals.stack[e.modals.stack.length-1]:void 0}),e=>({onCloseModal:()=>e(j())}))(Be);n(65);class Ae extends a.a.Component{constructor(...e){super(...e),this.render=()=>a.a.createElement("div",{className:"Messages"},a.a.createElement(ye.TransitionGroup,null,this.props.messages.map(e=>this.renderMessage(e))))}renderMessage(e){return a.a.createElement(ye.CSSTransition,{key:e.id,classNames:"Message",timeout:{enter:200,exit:200}},a.a.createElement("div",{className:x()("Message","Message-"+e.type)},e.text))}}var Je=Ae;var qe=Object(s.b)(e=>({messages:e.messages}))(Je);class Le extends r.Component{constructor(...e){var t;super(...e),t=this,this.componentDidMount=Object(g.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.props.onReconnect();case 1:case"end":return e.stop()}}),e)}))),this.render=()=>a.a.createElement("div",{className:"App"},a.a.createElement(He,null),a.a.createElement(i.d,null,a.a.createElement(i.b,{exact:!0,path:"/room/:room_id",component:Ee}),a.a.createElement(i.b,{exact:!0,path:"/",component:ge}),a.a.createElement(i.a,{to:"/"})),a.a.createElement(qe,null))}}var Ve=Le;var Ge=Object(s.b)(e=>({}),e=>({onReconnect:()=>e(re())}))(Ve);n(66);const We=l.compose,Ke=Object(l.createStore)(E,We(Object(l.applyMiddleware)(u.a)));o.render(r.createElement(s.a,{store:Ke},r.createElement(c.a,null,r.createElement(i.b,{path:"/",component:Ge}))),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.6dc63551.chunk.js.map